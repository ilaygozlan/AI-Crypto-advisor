<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Crypto Advisor - Project Documentation</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f9fa;
        }
        
        .header {
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .toc {
            background: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .toc h2 {
            color: #667eea;
            margin-top: 0;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        
        .toc ul {
            list-style: none;
            padding: 0;
        }
        
        .toc li {
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
        }
        
        .toc li:before {
            content: "‚ñ∂";
            position: absolute;
            left: 0;
            color: #667eea;
        }
        
        .section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .section h2 {
            color: #667eea;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
            margin-top: 0;
        }
        
        .section h3 {
            color: #495057;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        
        .section h4 {
            color: #6c757d;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        .file-tree {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.4;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .file-tree .folder {
            color: #667eea;
            font-weight: bold;
        }
        
        .file-tree .file {
            color: #28a745;
        }
        
        .file-tree .config {
            color: #fd7e14;
        }
        
        .file-tree .doc {
            color: #6f42c1;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 10px 0;
        }
        
        .highlight {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .tech-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        
        .tech-card h4 {
            color: #667eea;
            margin: 0 0 10px 0;
        }
        
        .endpoint-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        .endpoint-table th,
        .endpoint-table td {
            border: 1px solid #dee2e6;
            padding: 12px;
            text-align: left;
        }
        
        .endpoint-table th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }
        
        .endpoint-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
        }
        
        .feature-card h4 {
            color: #667eea;
            margin: 0 0 10px 0;
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        .status-completed {
            background: #d4edda;
            color: #155724;
        }
        
        .status-in-progress {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-pending {
            background: #f8d7da;
            color: #721c24;
        }
        
        .page-break {
            page-break-before: always;
        }
        
        @media print {
            body {
                background: white;
            }
            
            .section {
                box-shadow: none;
                border: 1px solid #dee2e6;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>AI Crypto Advisor</h1>
        <p>Complete Project Documentation & Folder Structure Guide</p>
        <p>Full-Stack React + Node.js Cryptocurrency Investment Platform</p>
    </div>

    <div class="toc">
        <h2>üìã Table of Contents</h2>
        <ul>
            <li><a href="#overview">Project Overview</a></li>
            <li><a href="#architecture">System Architecture</a></li>
            <li><a href="#tech-stack">Technology Stack</a></li>
            <li><a href="#folder-structure">Complete Folder Structure</a></li>
            <li><a href="#backend-structure">Backend Structure (server/)</a></li>
            <li><a href="#frontend-structure">Frontend Structure (src/)</a></li>
            <li><a href="#api-endpoints">API Endpoints Documentation</a></li>
            <li><a href="#features">Key Features & Components</a></li>
            <li><a href="#database-schema">Database Schema</a></li>
            <li><a href="#deployment">Deployment & Configuration</a></li>
            <li><a href="#troubleshooting">Troubleshooting Guide</a></li>
        </ul>
    </div>

    <div class="section" id="overview">
        <h2>üéØ Project Overview</h2>
        <p>The <strong>AI Crypto Advisor</strong> is a production-grade full-stack web application that provides personalized cryptocurrency investment insights and real-time market data. The application combines real-time crypto market data from CoinGecko with AI-powered insights to help users make informed investment decisions.</p>
        
        <div class="highlight">
            <h4>üöÄ Key Features</h4>
            <ul>
                <li><strong>User Authentication:</strong> Secure JWT-based login/signup system with rate limiting</li>
                <li><strong>Enhanced Onboarding:</strong> 3-step wizard for user preferences (investor type, assets, content types)</li>
                <li><strong>Real-time Crypto Data:</strong> Live prices, charts, and market data via CoinGecko API</li>
                <li><strong>CryptoPanic News Integration:</strong> Real-time cryptocurrency news with personalized filtering</li>
                <li><strong>AI Insights Service:</strong> Daily AI-generated market analysis using OpenRouter API</li>
                <li><strong>Reddit Memes Integration:</strong> Automated meme fetching from crypto subreddits</li>
                <li><strong>Interactive Voting System:</strong> Like/dislike functionality for all content types</li>
                <li><strong>Personalized Dashboard:</strong> Customizable crypto portfolio tracking</li>
                <li><strong>Dark Mode Support:</strong> System preference detection with manual toggle</li>
                <li><strong>Responsive Design:</strong> Mobile-first design with smooth animations</li>
            </ul>
        </div>
    </div>

    <div class="section" id="architecture">
        <h2>üèóÔ∏è System Architecture</h2>
        <div class="file-tree">
<strong>crypto_AI/</strong>                           # Root project directory
‚îú‚îÄ‚îÄ <span class="folder">server/</span>                    # Backend Node.js/Express application
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">index.js</span>                 # Main server entry point with middleware setup
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">DB.js</span>                     # PostgreSQL connection and schema initialization
‚îÇ   ‚îú‚îÄ‚îÄ <span class="config">package.json</span>           # Backend dependencies and scripts
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">routes/</span>                # API route definitions
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">auth.js</span>              # Authentication endpoints (login, signup, refresh, logout)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">me.js</span>                # User data endpoints (/me, /me/data)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">insights.js</span>           # AI insights endpoints (/api/insights)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">memes.js</span>             # Memes API endpoints (/api/memes)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">news.js</span>              # News API endpoints (/api/news)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">dashboard.js</span>         # Dashboard API endpoints (/dashboard/*)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">reactions.js</span>         # User reactions API endpoints (/api/reactions)
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">services/</span>              # Business logic layer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">user.service.js</span>     # User CRUD operations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">userData.service.js</span>  # User preferences management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">token.service.js</span>     # JWT token handling
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">insightService.js</span>    # AI insights generation and management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">llmOpenRouter.js</span>      # OpenRouter API integration for LLM calls
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">memes.service.js</span>     # Reddit memes fetching and processing
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">news.service.js</span>      # CryptoPanic news integration
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">redditClient.js</span>       # Reddit API client and authentication
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">middlewares/</span>          # Express middleware
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">auth.js</span>              # JWT authentication middleware
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">security/</span>             # Security utilities
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">rateLimit.js</span>        # Rate limiting configuration
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">repos/</span>                # Data access layer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">refresh-token.repo.js</span> # Refresh token repository
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">userDataRepo.js</span>     # User data repository
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">insightsRepo.js</span>      # AI insights repository
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">memeDB/</span>               # Memes database management
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">memeDB.js</span>           # Memes database connection
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">scripts/</span>              # Utility scripts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">get-reddit-refresh-token.js</span> # Reddit OAuth token generation
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">testReddit.js</span>       # Reddit API testing script
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">utils/</span>                # Backend utilities
‚îÇ       ‚îî‚îÄ‚îÄ <span class="file">crypto.js</span>           # Cryptographic helpers
‚îú‚îÄ‚îÄ <span class="folder">src/</span>                       # Frontend React application
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">app/</span>                  # Main app configuration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">App.tsx</span>             # Root component
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">main.tsx</span>           # React entry point
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">providers.tsx</span>      # Context providers (QueryClient, Auth)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">router.tsx</span>          # React Router configuration
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">data/</span>             # Mock data for development
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">components/</span>            # Reusable UI components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">layout/</span>           # Layout components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">AppLayout.tsx</span>   # Main app layout
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">Navbar.tsx</span>      # Navigation bar with dark mode toggle
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">Footer.tsx</span>      # Footer component
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">ProtectedRoute.tsx</span> # Route protection
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">ui/</span>               # Shadcn/ui components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">button.tsx</span>       # Button component
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">card.tsx</span>        # Card components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">input.tsx</span>       # Input component
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">select.tsx</span>      # Select component
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">toast.tsx</span>       # Toast notifications
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">IconTabs.tsx</span>     # Custom tab component
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">common/</span>           # Common components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">Card.tsx</span>        # Custom card wrapper
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">Skeleton.tsx</span>    # Loading skeletons
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">EmptyState.tsx</span>   # Empty state component
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">VoteButtons.tsx</span> # Voting interface
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">SectionHeader.tsx</span> # Section headers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">Brand.tsx</span>           # Brand/logo component
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">Protected.tsx</span>       # Protected content wrapper
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">PreferencesIndicator.tsx</span> # User preferences display
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">features/</span>             # Feature-based modules
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">auth/</span>              # Authentication features
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">components/</span>    # Auth components
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">AuthForm.tsx</span> # Login form
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">EnhancedSignupForm.tsx</span> # 3-step signup wizard
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">pages/</span>        # Auth pages
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ <span class="file">LoginPage.tsx</span> # Login page
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ <span class="file">SignupPage.tsx</span> # Signup page
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">dashboard/</span>        # Dashboard features
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">DashboardView.tsx</span> # Main dashboard view with tabs
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">components/</span>   # Dashboard components
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">AIInsightSection.tsx</span> # AI insights display
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">CoinChart.tsx</span> # Price charts
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">MemeSection.tsx</span> # Meme display
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">NewsSection.tsx</span> # News display
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">PricesSection.tsx</span> # Prices display
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">PriceRow.tsx</span> # Individual price row
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">hooks/</span>        # Data fetching hooks
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">useAIInsight.ts</span> # AI insights hook
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">useChart.ts</span>  # Chart data hook
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">useMeme.ts</span>   # Meme data hook
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">useNews.ts</span>   # News data hook
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">usePrices.ts</span> # Prices data hook
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">useTodayInsight.ts</span> # Today's AI insight hook
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">useVote.ts</span>  # Voting hook
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">panels/</span>       # Dashboard panels
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">AiInsightPanel.tsx</span> # AI insights panel
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">CoinPricesPanel.tsx</span> # Prices panel
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">MarketNewsPanel.tsx</span> # News panel
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">MemePanel.tsx</span> # Meme panel
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">pages/</span>        # Dashboard pages
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ <span class="file">DashboardPage.tsx</span> # Dashboard page wrapper
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">news/</span>             # News features
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">components/</span>    # News components
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">NewsCard.tsx</span> # Individual news card
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">NewsFeed.tsx</span> # News feed with filtering
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">hooks/</span>         # News hooks
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">useCryptoPanicPosts.ts</span> # CryptoPanic integration
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">pages/</span>        # News pages
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ <span class="file">NewsPage.tsx</span> # News page
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">settings/</span>         # Settings features
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ <span class="folder">components/</span>   # Settings components
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">PreferencesForm.tsx</span> # Preferences display
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">ProfileForm.tsx</span> # Profile management
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ <span class="folder">pages/</span>        # Settings pages
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ <span class="file">SettingsPage.tsx</span> # Settings page
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">lib/</span>                  # Frontend utilities
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">api/</span>              # API client and endpoints
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">api.ts</span>          # Main API client
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">coinGecko.ts</span>    # CoinGecko API integration
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">cryptopanic.ts</span>  # CryptoPanic API service
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">newEndpoints.ts</span> # New API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">query/</span>           # TanStack Query configuration
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">queryClient.ts</span>  # Query client setup
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">state/</span>           # State management
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">prefs.store.ts</span>  # Preferences store
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">services/</span>        # Frontend services
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">utils/</span>            # Frontend utilities
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ <span class="file">coinMapping.ts</span>  # Coin ID mapping
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ <span class="file">cryptoPanic.ts</span>   # CryptoPanic utilities
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ <span class="file">cryptoPrefs.ts</span>   # Crypto preferences
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ <span class="file">format.ts</span>       # Formatting utilities
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ <span class="file">guards.ts</span>       # Type guards
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ <span class="file">scoring.ts</span>      # Content scoring algorithm
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ <span class="file">utils.ts</span>        # General utilities
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">contexts/</span>            # React contexts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">AuthContext.tsx</span>     # Authentication context
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">hooks/</span>                # Custom hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">useAuthLockout.ts</span>  # Authentication lockout hook
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">useToast.ts</span>        # Toast notifications hook
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">state/</span>               # State management
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">useAuth.ts</span>          # Authentication state
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">types/</span>               # TypeScript type definitions
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">auth.ts</span>            # Authentication types
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">common.ts</span>           # Common types
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">dashboard.ts</span>        # Dashboard types
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">styles/</span>              # Global styles
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">globals.css</span>        # Global CSS with Tailwind
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">vite-env.d.ts</span>           # Vite environment types
‚îú‚îÄ‚îÄ <span class="folder">public/</span>                  # Static assets
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">favicon.svg</span>            # Favicon
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">vite.svg</span>              # Vite logo
‚îú‚îÄ‚îÄ <span class="folder">dist/</span>                    # Build output
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">assets/</span>              # Bundled assets
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">index.html</span>            # Built HTML
‚îú‚îÄ‚îÄ <span class="config">package.json</span>            # Frontend dependencies
‚îú‚îÄ‚îÄ <span class="config">vite.config.ts</span>          # Vite configuration
‚îú‚îÄ‚îÄ <span class="config">tailwind.config.ts</span>       # Tailwind CSS configuration
‚îú‚îÄ‚îÄ <span class="config">tsconfig.json</span>           # TypeScript configuration
‚îú‚îÄ‚îÄ <span class="config">components.json</span>         # Shadcn/ui configuration
‚îú‚îÄ‚îÄ <span class="config">postcss.config.js</span>       # PostCSS configuration
‚îú‚îÄ‚îÄ <span class="config">env.development</span>         # Development environment
‚îú‚îÄ‚îÄ <span class="config">env.production</span>          # Production environment
‚îú‚îÄ‚îÄ <span class="config">env.example</span>             # Environment template
‚îú‚îÄ‚îÄ <span class="config">docker-compose.dev.yml</span>  # Docker development setup
‚îú‚îÄ‚îÄ <span class="config">nixpacks.toml</span>           # Nixpacks configuration
‚îú‚îÄ‚îÄ <span class="doc">CRYPTOPANIC_SETUP.md</span>      # CryptoPanic setup guide
‚îú‚îÄ‚îÄ <span class="doc">BACKEND_INTEGRATION.md</span>     # Backend integration guide
‚îú‚îÄ‚îÄ <span class="doc">PROJECT_OVERVIEW.md</span>        # Project overview
‚îú‚îÄ‚îÄ <span class="doc">S3-DEPLOYMENT-GUIDE.md</span>    # S3 deployment guide
‚îî‚îÄ‚îÄ <span class="doc">README.md</span>                   # Main project documentation
        </div>
    </div>

    <div class="section" id="tech-stack">
        <h2>üõ†Ô∏è Technology Stack</h2>
        <div class="tech-stack">
            <div class="tech-card">
                <h4>Frontend</h4>
                <ul>
                    <li>React 18 + TypeScript</li>
                    <li>Vite (Build Tool)</li>
                    <li>Tailwind CSS + Shadcn/ui</li>
                    <li>React Router v6</li>
                    <li>TanStack Query</li>
                    <li>Framer Motion</li>
                    <li>Zustand (State)</li>
                </ul>
            </div>
            <div class="tech-card">
                <h4>Backend</h4>
                <ul>
                    <li>Node.js + Express.js</li>
                    <li>PostgreSQL Database</li>
                    <li>JWT Authentication</li>
                    <li>bcryptjs (Password Hashing)</li>
                    <li>Helmet (Security)</li>
                    <li>CORS + Rate Limiting</li>
                </ul>
            </div>
            <div class="tech-card">
                <h4>External APIs</h4>
                <ul>
                    <li>CoinGecko API (Crypto Data)</li>
                    <li>CryptoPanic API (News)</li>
                    <li>OpenRouter API (AI Insights)</li>
                    <li>Reddit API (Memes)</li>
                </ul>
            </div>
            <div class="tech-card">
                <h4>Development</h4>
                <ul>
                    <li>ESLint + Prettier</li>
                    <li>Vitest (Testing)</li>
                    <li>Docker Support</li>
                    <li>Railway Deployment</li>
                    <li>S3 Static Hosting</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="page-break"></div>

    <div class="section" id="backend-structure">
        <h2>üîß Backend Structure (server/)</h2>
        
        <h3>üìÅ Core Files</h3>
        <div class="file-tree">
<strong>server/</strong>
‚îú‚îÄ‚îÄ <span class="file">index.js</span>                    # Main server entry point
‚îú‚îÄ‚îÄ <span class="file">DB.js</span>                      # Database connection & schema
‚îú‚îÄ‚îÄ <span class="config">package.json</span>             # Backend dependencies
‚îî‚îÄ‚îÄ <span class="folder">routes/</span>                  # API route definitions
        </div>

        <h4>üîë Key Backend Files</h4>
        <ul>
            <li><strong>index.js:</strong> Main server file with Express setup, middleware configuration, CORS setup, and route mounting</li>
            <li><strong>DB.js:</strong> PostgreSQL connection pool, database schema initialization, table creation, and index setup</li>
            <li><strong>package.json:</strong> Backend dependencies including Express, PostgreSQL, JWT, bcryptjs, and external API clients</li>
        </ul>

        <h3>üõ£Ô∏è Routes Directory (server/routes/)</h3>
        <div class="file-tree">
<strong>routes/</strong>
‚îú‚îÄ‚îÄ <span class="file">auth.js</span>                    # Authentication endpoints
‚îú‚îÄ‚îÄ <span class="file">me.js</span>                      # User data endpoints
‚îú‚îÄ‚îÄ <span class="file">insights.js</span>                # AI insights API
‚îú‚îÄ‚îÄ <span class="file">memes.js</span>                   # Memes API endpoints
‚îú‚îÄ‚îÄ <span class="file">news.js</span>                    # News API endpoints
‚îú‚îÄ‚îÄ <span class="file">dashboard.js</span>               # Dashboard API endpoints
‚îî‚îÄ‚îÄ <span class="file">reactions.js</span>               # User reactions API
        </div>

        <h4>üìã Route Responsibilities</h4>
        <ul>
            <li><strong>auth.js:</strong> Handles user login, signup, token refresh, and logout with rate limiting</li>
            <li><strong>me.js:</strong> Returns user information and onboarding data</li>
            <li><strong>insights.js:</strong> Manages AI-generated insights and daily market analysis</li>
            <li><strong>memes.js:</strong> Fetches and manages Reddit memes with pagination</li>
            <li><strong>news.js:</strong> Handles CryptoPanic news integration and filtering</li>
            <li><strong>dashboard.js:</strong> Dashboard-specific endpoints for voting and content management</li>
            <li><strong>reactions.js:</strong> Manages user reactions (likes/dislikes) for all content types</li>
        </ul>

        <h3>‚öôÔ∏è Services Directory (server/services/)</h3>
        <div class="file-tree">
<strong>services/</strong>
‚îú‚îÄ‚îÄ <span class="file">user.service.js</span>            # User CRUD operations
‚îú‚îÄ‚îÄ <span class="file">userData.service.js</span>        # User preferences management
‚îú‚îÄ‚îÄ <span class="file">token.service.js</span>           # JWT token handling
‚îú‚îÄ‚îÄ <span class="file">insightService.js</span>          # AI insights generation
‚îú‚îÄ‚îÄ <span class="file">llmOpenRouter.js</span>           # OpenRouter API integration
‚îú‚îÄ‚îÄ <span class="file">memes.service.js</span>           # Reddit memes fetching
‚îú‚îÄ‚îÄ <span class="file">news.service.js</span>             # CryptoPanic news integration
‚îî‚îÄ‚îÄ <span class="file">redditClient.js</span>            # Reddit API client
        </div>

        <h4>üîß Service Responsibilities</h4>
        <ul>
            <li><strong>user.service.js:</strong> User registration, authentication, and profile management</li>
            <li><strong>userData.service.js:</strong> Manages user onboarding data and preferences</li>
            <li><strong>token.service.js:</strong> JWT token generation, validation, and refresh logic</li>
            <li><strong>insightService.js:</strong> AI insights generation using OpenRouter API with structured prompts</li>
            <li><strong>llmOpenRouter.js:</strong> Direct integration with OpenRouter API for LLM calls</li>
            <li><strong>memes.service.js:</strong> Automated Reddit meme fetching with content filtering</li>
            <li><strong>news.service.js:</strong> CryptoPanic API integration for real-time news</li>
            <li><strong>redditClient.js:</strong> Reddit API authentication and content fetching</li>
        </ul>

        <h3>üõ°Ô∏è Security & Middleware</h3>
        <div class="file-tree">
<strong>middlewares/</strong>
‚îî‚îÄ‚îÄ <span class="file">auth.js</span>                     # JWT authentication middleware

<strong>security/</strong>
‚îî‚îÄ‚îÄ <span class="file">rateLimit.js</span>               # Rate limiting configuration
        </div>

        <h3>üóÑÔ∏è Data Access Layer</h3>
        <div class="file-tree">
<strong>repos/</strong>
‚îú‚îÄ‚îÄ <span class="file">refresh-token.repo.js</span>       # Refresh token repository
‚îú‚îÄ‚îÄ <span class="file">userDataRepo.js</span>            # User data repository
‚îî‚îÄ‚îÄ <span class="file">insightsRepo.js</span>            # AI insights repository

<strong>memeDB/</strong>
‚îî‚îÄ‚îÄ <span class="file">memeDB.js</span>                  # Memes database management
        </div>
    </div>

    <div class="section" id="frontend-structure">
        <h2>‚öõÔ∏è Frontend Structure (src/)</h2>
        
        <h3>üì± App Configuration (src/app/)</h3>
        <div class="file-tree">
<strong>app/</strong>
‚îú‚îÄ‚îÄ <span class="file">App.tsx</span>                    # Root component
‚îú‚îÄ‚îÄ <span class="file">main.tsx</span>                   # React entry point
‚îú‚îÄ‚îÄ <span class="file">providers.tsx</span>               # Context providers
‚îú‚îÄ‚îÄ <span class="file">router.tsx</span>                  # React Router configuration
‚îî‚îÄ‚îÄ <span class="folder">data/</span>                     # Mock data for development
        </div>

        <h4>üîß App Files</h4>
        <ul>
            <li><strong>App.tsx:</strong> Root component that renders the router with providers</li>
            <li><strong>main.tsx:</strong> React entry point that mounts the app</li>
            <li><strong>providers.tsx:</strong> Context providers for authentication and React Query</li>
            <li><strong>router.tsx:</strong> React Router configuration with protected routes</li>
        </ul>

        <h3>üß© Components Directory (src/components/)</h3>
        <div class="file-tree">
<strong>components/</strong>
‚îú‚îÄ‚îÄ <span class="folder">layout/</span>                   # Layout components
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">AppLayout.tsx</span>         # Main app layout
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">Navbar.tsx</span>            # Navigation bar
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">Footer.tsx</span>             # Footer component
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">ProtectedRoute.tsx</span>     # Route protection
‚îú‚îÄ‚îÄ <span class="folder">ui/</span>                      # Shadcn/ui components
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">button.tsx</span>             # Button component
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">card.tsx</span>              # Card components
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">input.tsx</span>              # Input component
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">select.tsx</span>             # Select component
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">toast.tsx</span>               # Toast notifications
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">IconTabs.tsx</span>           # Custom tab component
‚îú‚îÄ‚îÄ <span class="folder">common/</span>                   # Common components
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">Card.tsx</span>               # Custom card wrapper
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">Skeleton.tsx</span>           # Loading skeletons
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">EmptyState.tsx</span>        # Empty state component
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">VoteButtons.tsx</span>        # Voting interface
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">SectionHeader.tsx</span>     # Section headers
‚îú‚îÄ‚îÄ <span class="file">Brand.tsx</span>                 # Brand/logo component
‚îú‚îÄ‚îÄ <span class="file">Protected.tsx</span>              # Protected content wrapper
‚îî‚îÄ‚îÄ <span class="file">PreferencesIndicator.tsx</span>  # User preferences display
        </div>

        <h3>üéØ Features Directory (src/features/)</h3>
        <div class="file-tree">
<strong>features/</strong>
‚îú‚îÄ‚îÄ <span class="folder">auth/</span>                    # Authentication features
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">components/</span>          # Auth components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">AuthForm.tsx</span>       # Login form
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">EnhancedSignupForm.tsx</span> # 3-step signup wizard
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">pages/</span>              # Auth pages
‚îÇ       ‚îú‚îÄ‚îÄ <span class="file">LoginPage.tsx</span>      # Login page
‚îÇ       ‚îî‚îÄ‚îÄ <span class="file">SignupPage.tsx</span>     # Signup page
‚îú‚îÄ‚îÄ <span class="folder">dashboard/</span>               # Dashboard features
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">DashboardView.tsx</span>      # Main dashboard view
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">components/</span>          # Dashboard components
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">hooks/</span>               # Data fetching hooks
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">panels/</span>             # Dashboard panels
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">pages/</span>               # Dashboard pages
‚îú‚îÄ‚îÄ <span class="folder">news/</span>                    # News features
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">components/</span>          # News components
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">hooks/</span>               # News hooks
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">pages/</span>               # News pages
‚îî‚îÄ‚îÄ <span class="folder">settings/</span>                 # Settings features
    ‚îú‚îÄ‚îÄ <span class="folder">components/</span>          # Settings components
    ‚îî‚îÄ‚îÄ <span class="folder">pages/</span>                # Settings pages
        </div>

        <h4>üéØ Feature Responsibilities</h4>
        <ul>
            <li><strong>auth/:</strong> User authentication, login/signup forms, and onboarding</li>
            <li><strong>dashboard/:</strong> Main dashboard with crypto prices, news, AI insights, and memes</li>
            <li><strong>news/:</strong> News feed with CryptoPanic integration and filtering</li>
            <li><strong>settings/:</strong> User profile management and preferences</li>
        </ul>

        <h3>üìö Libraries & Utilities (src/lib/)</h3>
        <div class="file-tree">
<strong>lib/</strong>
‚îú‚îÄ‚îÄ <span class="folder">api/</span>                     # API client and endpoints
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">api.ts</span>                 # Main API client
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">coinGecko.ts</span>           # CoinGecko API integration
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">cryptopanic.ts</span>         # CryptoPanic API service
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">newEndpoints.ts</span>        # New API endpoints
‚îú‚îÄ‚îÄ <span class="folder">query/</span>                   # TanStack Query configuration
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">queryClient.ts</span>        # Query client setup
‚îú‚îÄ‚îÄ <span class="folder">state/</span>                    # State management
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">prefs.store.ts</span>        # Preferences store
‚îú‚îÄ‚îÄ <span class="folder">services/</span>                # Frontend services
‚îî‚îÄ‚îÄ <span class="folder">utils/</span>                   # Frontend utilities
    ‚îú‚îÄ‚îÄ <span class="file">coinMapping.ts</span>         # Coin ID mapping
    ‚îú‚îÄ‚îÄ <span class="file">cryptoPanic.ts</span>          # CryptoPanic utilities
    ‚îú‚îÄ‚îÄ <span class="file">cryptoPrefs.ts</span>         # Crypto preferences
    ‚îú‚îÄ‚îÄ <span class="file">format.ts</span>               # Formatting utilities
    ‚îú‚îÄ‚îÄ <span class="file">guards.ts</span>               # Type guards
    ‚îú‚îÄ‚îÄ <span class="file">scoring.ts</span>              # Content scoring algorithm
    ‚îî‚îÄ‚îÄ <span class="file">utils.ts</span>                # General utilities
        </div>
    </div>

    <div class="page-break"></div>

    <div class="section" id="api-endpoints">
        <h2>üîå API Endpoints Documentation</h2>
        
        <h3>üîê Authentication Endpoints</h3>
        <table class="endpoint-table">
            <thead>
                <tr>
                    <th>Endpoint</th>
                    <th>Method</th>
                    <th>Auth Required</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>/auth/login</td>
                    <td>POST</td>
                    <td>No</td>
                    <td>User login with email/password, returns JWT tokens</td>
                </tr>
                <tr>
                    <td>/auth/signup</td>
                    <td>POST</td>
                    <td>No</td>
                    <td>New user registration with preferences (3-step onboarding)</td>
                </tr>
                <tr>
                    <td>/auth/refresh</td>
                    <td>POST</td>
                    <td>No</td>
                    <td>Refresh expired JWT token using refresh token</td>
                </tr>
                <tr>
                    <td>/auth/logout</td>
                    <td>POST</td>
                    <td>Yes</td>
                    <td>Logout and invalidate all tokens</td>
                </tr>
            </tbody>
        </table>

        <h3>üë§ User Data Endpoints</h3>
        <table class="endpoint-table">
            <thead>
                <tr>
                    <th>Endpoint</th>
                    <th>Method</th>
                    <th>Auth Required</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>/me</td>
                    <td>GET</td>
                    <td>Yes</td>
                    <td>Returns logged-in user basic information</td>
                </tr>
                <tr>
                    <td>/me/data</td>
                    <td>GET</td>
                    <td>Yes</td>
                    <td>Returns user investment preferences and onboarding data</td>
                </tr>
            </tbody>
        </table>

        <h3>ü§ñ AI Insights Endpoints</h3>
        <table class="endpoint-table">
            <thead>
                <tr>
                    <th>Endpoint</th>
                    <th>Method</th>
                    <th>Auth Required</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>/api/insights/today</td>
                    <td>GET</td>
                    <td>Yes</td>
                    <td>Fetches today's AI insight for user (with user_id query param)</td>
                </tr>
            </tbody>
        </table>

        <h3>üé≠ Memes Endpoints</h3>
        <table class="endpoint-table">
            <thead>
                <tr>
                    <th>Endpoint</th>
                    <th>Method</th>
                    <th>Auth Required</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>/api/memes</td>
                    <td>GET</td>
                    <td>Yes</td>
                    <td>Fetches memes with pagination and filtering (limit, sub, cursor params)</td>
                </tr>
                <tr>
                    <td>/api/memes/refresh</td>
                    <td>POST</td>
                    <td>Yes</td>
                    <td>Manually triggers meme fetching from Reddit</td>
                </tr>
            </tbody>
        </table>

        <h3>üì∞ News Endpoints</h3>
        <table class="endpoint-table">
            <thead>
                <tr>
                    <th>Endpoint</th>
                    <th>Method</th>
                    <th>Auth Required</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>/api/news</td>
                    <td>GET</td>
                    <td>Yes</td>
                    <td>Fetches personalized crypto news from CryptoPanic</td>
                </tr>
            </tbody>
        </table>

        <h3>üëç Reactions Endpoints</h3>
        <table class="endpoint-table">
            <thead>
                <tr>
                    <th>Endpoint</th>
                    <th>Method</th>
                    <th>Auth Required</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>/api/reactions</td>
                    <td>POST</td>
                    <td>Yes</td>
                    <td>Save/update user reaction for any content type</td>
                </tr>
                <tr>
                    <td>/dashboard/vote</td>
                    <td>POST</td>
                    <td>Yes</td>
                    <td>Submit vote for content (like/dislike) with rich metadata</td>
                </tr>
            </tbody>
        </table>

        <h3>üè• System Endpoints</h3>
        <table class="endpoint-table">
            <thead>
                <tr>
                    <th>Endpoint</th>
                    <th>Method</th>
                    <th>Auth Required</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>/health</td>
                    <td>GET</td>
                    <td>No</td>
                    <td>Server health check</td>
                </tr>
                <tr>
                    <td>/cors-test</td>
                    <td>GET</td>
                    <td>No</td>
                    <td>CORS configuration test endpoint</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="section" id="features">
        <h2>‚ú® Key Features & Components</h2>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h4>üîê Authentication System</h4>
                <ul>
                    <li>JWT-based authentication with httpOnly cookies</li>
                    <li>Rate limiting and lockout protection</li>
                    <li>Automatic token refresh</li>
                    <li>3-step onboarding wizard</li>
                    <li>Secure password hashing with bcryptjs</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h4>üìä Dashboard Interface</h4>
                <ul>
                    <li>Tabbed interface with 4 main sections</li>
                    <li>Real-time crypto prices with charts</li>
                    <li>Personalized news feed</li>
                    <li>AI-generated market insights</li>
                    <li>Daily crypto memes</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h4>ü§ñ AI Insights Service</h4>
                <ul>
                    <li>OpenRouter API integration</li>
                    <li>Daily personalized market analysis</li>
                    <li>Structured prompt engineering</li>
                    <li>User-specific recommendations</li>
                    <li>Content regeneration capability</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h4>üì∞ News Integration</h4>
                <ul>
                    <li>CryptoPanic API integration</li>
                    <li>Personalized filtering by investor type</li>
                    <li>Sentiment analysis</li>
                    <li>Real-time updates</li>
                    <li>Fallback to mock data</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h4>üé≠ Memes System</h4>
                <ul>
                    <li>Automated Reddit meme fetching</li>
                    <li>Content filtering and NSFW protection</li>
                    <li>Scheduled updates with cron jobs</li>
                    <li>Pagination support</li>
                    <li>Community voting system</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h4>üëç Voting System</h4>
                <ul>
                    <li>Universal like/dislike functionality</li>
                    <li>Optimistic UI updates</li>
                    <li>Persistent vote storage</li>
                    <li>Rich content metadata</li>
                    <li>Real-time vote counts</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="section" id="database-schema">
        <h2>üóÑÔ∏è Database Schema</h2>
        
        <h3>üìã Core Tables</h3>
        <div class="code-block">
-- Users table
CREATE TABLE users (
  id TEXT PRIMARY KEY,
  email TEXT UNIQUE NOT NULL,
  password_hash TEXT NOT NULL,
  first_name TEXT,
  last_name TEXT,
  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT now()
);

-- User data table (onboarding preferences)
CREATE TABLE user_data (
  id TEXT PRIMARY KEY,
  user_id TEXT NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  investor_type TEXT CHECK (
    investor_type IN ('day_trader', 'investor', 'conservative')
  ) NOT NULL,
  selected_assets TEXT[] NOT NULL,
  selected_content_types TEXT[] NOT NULL,
  completed_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  created_at TIMESTAMPTZ NOT NULL DEFAULT now()
);

-- Refresh tokens table
CREATE TABLE refresh_tokens (
  id BIGSERIAL PRIMARY KEY,
  user_id TEXT NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  token_hash TEXT NOT NULL,
  expires_at TIMESTAMPTZ NOT NULL,
  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  revoked_at TIMESTAMPTZ
);
        </div>

        <h3>ü§ñ AI Insights Table</h3>
        <div class="code-block">
-- AI insights table
CREATE TABLE insights (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id TEXT NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  generated_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  date_key DATE NOT NULL,
  provider TEXT,
  model TEXT,
  prompt_tokens INT,
  completion_tokens INT,
  title TEXT,
  tl_dr TEXT,
  content_md TEXT,
  content_json JSONB,
  sources JSONB
);
        </div>

        <h3>üé≠ Memes Table</h3>
        <div class="code-block">
-- Memes table
CREATE TABLE memes (
  id TEXT PRIMARY KEY,         -- redditId
  subreddit TEXT NOT NULL,
  title TEXT NOT NULL,
  score INTEGER NOT NULL DEFAULT 0,
  num_comments INTEGER NOT NULL DEFAULT 0,
  permalink TEXT NOT NULL,
  source_url TEXT NOT NULL,    -- direct image if available
  cdn_url TEXT,                -- optional if you later mirror to S3
  is_nsfw BOOLEAN NOT NULL DEFAULT FALSE,
  flair TEXT,
  author_name TEXT,
  created_utc TIMESTAMPTZ NOT NULL,
  fetched_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
        </div>

        <h3>üëç User Reactions Table</h3>
        <div class="code-block">
-- User reactions table
CREATE TABLE user_reactions (
  user_id TEXT NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  content_type TEXT NOT NULL,                -- 'meme' | 'news' | 'coin' | 'ai_daily_news'
  external_id TEXT NOT NULL,                 -- Item identifier in source
  reaction reaction_value NOT NULL,          -- like | dislike
  content JSONB NOT NULL,                    -- Minimal snapshot of content
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  PRIMARY KEY (user_id, content_type, external_id)
);
        </div>

        <h3>üì∞ News Items Table</h3>
        <div class="code-block">
-- News items table
CREATE TABLE news_items (
  id BIGSERIAL PRIMARY KEY,
  source_id TEXT,               -- upstream unique id if exists
  title TEXT NOT NULL,
  url TEXT NOT NULL,
  published_at TIMESTAMPTZ NOT NULL,
  currencies TEXT[] DEFAULT '{}',
  is_important BOOLEAN DEFAULT FALSE,
  source TEXT,                  -- e.g., "cryptopanic"
  raw JSONB,                    -- full upstream payload
  created_at TIMESTAMPTZ DEFAULT NOW()
);
        </div>
    </div>

    <div class="page-break"></div>

    <div class="section" id="deployment">
        <h2>üöÄ Deployment & Configuration</h2>
        
        <h3>üîß Environment Variables</h3>
        
        <h4>Backend (.env)</h4>
        <div class="code-block">
# Database
DATABASE_URL=postgresql://user:password@localhost:5432/crypto_advisor

# JWT Secrets
JWT_ACCESS_SECRET=your-access-secret-key
JWT_REFRESH_SECRET=your-refresh-secret-key

# External APIs
CG_API_KEY=your-coingecko-api-key
OPENROUTER_API_KEY=your-openrouter-api-key
OPENROUTER_MODEL=openrouter/auto

# Reddit API Configuration
REDDIT_CLIENT_ID=your-reddit-client-id
REDDIT_CLIENT_SECRET=your-reddit-client-secret
REDDIT_USER_AGENT=your-app-name/1.0.0
REDDIT_REFRESH_TOKEN=your-reddit-refresh-token

# Server Configuration
PORT=3000
NODE_ENV=development
FRONTEND_URL=http://crypto-ai-advisore.s3-website-us-east-1.amazonaws.com
ALLOWED_ORIGINS=http://crypto-ai-advisore.s3-website-us-east-1.amazonaws.com,http://localhost:3000
        </div>

        <h4>Frontend (env.development / env.production)</h4>
        <div class="code-block">
# Server Configuration
VITE_SERVER_URL=http://localhost:3000

# CryptoPanic API
VITE_CRYPTOPANIC_API_KEY=your_cryptopanic_api_key

# App Configuration
VITE_APP_NAME=AI Crypto Advisor
VITE_API_BASE_URL=https://api.example.com
        </div>

        <h3>üèóÔ∏è Build & Development</h3>
        
        <h4>Frontend Development</h4>
        <div class="code-block">
# Install dependencies
npm install

# Start development server
npm run dev

# Build for production
npm run build

# Preview production build
npm run preview
        </div>

        <h4>Backend Development</h4>
        <div class="code-block">
# Navigate to server directory
cd server

# Install dependencies
npm install

# Start development server
npm start
        </div>

        <h3>üê≥ Docker Support</h3>
        <div class="file-tree">
<strong>docker-compose.dev.yml</strong>                   # Docker development setup
<strong>nixpacks.toml</strong>                           # Nixpacks configuration for Railway
        </div>

        <h3>‚òÅÔ∏è Deployment Platforms</h3>
        <ul>
            <li><strong>Backend:</strong> Railway, Render, or AWS with PostgreSQL</li>
            <li><strong>Frontend:</strong> Vercel, Netlify, or S3 static hosting</li>
            <li><strong>Database:</strong> Managed PostgreSQL (Railway, Render, AWS RDS)</li>
            <li><strong>Domain:</strong> Configure CORS for production domains</li>
        </ul>
    </div>

    <div class="section" id="troubleshooting">
        <h2>üîß Troubleshooting Guide</h2>
        
        <h3>üö® Common Issues</h3>
        
        <h4>Authentication Issues</h4>
        <ul>
            <li><strong>Login fails:</strong> Check JWT secrets and database connection</li>
            <li><strong>Token refresh fails:</strong> Verify httpOnly cookie settings</li>
            <li><strong>Rate limiting:</strong> Check rate limit configuration and user lockout</li>
        </ul>

        <h4>API Integration Issues</h4>
        <ul>
            <li><strong>CryptoPanic API:</strong> Verify API key and rate limits</li>
            <li><strong>CoinGecko API:</strong> Check API key and request limits</li>
            <li><strong>OpenRouter API:</strong> Verify API key and model configuration</li>
            <li><strong>Reddit API:</strong> Check OAuth tokens and client credentials</li>
        </ul>

        <h4>Database Issues</h4>
        <ul>
            <li><strong>Connection fails:</strong> Verify DATABASE_URL and SSL settings</li>
            <li><strong>Schema errors:</strong> Check table creation and migrations</li>
            <li><strong>Query errors:</strong> Verify table structure and indexes</li>
        </ul>

        <h4>Frontend Issues</h4>
        <ul>
            <li><strong>Build fails:</strong> Check TypeScript errors and dependencies</li>
            <li><strong>API calls fail:</strong> Verify CORS settings and server URL</li>
            <li><strong>Styling issues:</strong> Check Tailwind configuration and imports</li>
        </ul>

        <h3>üîç Debugging Steps</h3>
        <ol>
            <li>Check server logs for errors</li>
            <li>Verify environment variables are set correctly</li>
            <li>Test API endpoints individually</li>
            <li>Check database connection and schema</li>
            <li>Verify external API credentials</li>
            <li>Check CORS configuration</li>
            <li>Review rate limiting settings</li>
        </ol>

        <h3>üìû Support Resources</h3>
        <ul>
            <li><strong>Documentation:</strong> README.md, PROJECT_OVERVIEW.md</li>
            <li><strong>API Guides:</strong> CRYPTOPANIC_SETUP.md, BACKEND_INTEGRATION.md</li>
            <li><strong>Deployment:</strong> S3-DEPLOYMENT-GUIDE.md</li>
            <li><strong>Code Comments:</strong> Inline documentation throughout codebase</li>
        </ul>
    </div>

    <div class="section">
        <h2>üìù Summary</h2>
        <p>This comprehensive documentation covers the complete structure and functionality of the AI Crypto Advisor project. The application is a production-ready full-stack platform that combines modern web technologies with AI-powered insights to provide users with personalized cryptocurrency investment guidance.</p>
        
        <div class="highlight">
            <h4>üéØ Key Takeaways</h4>
            <ul>
                <li><strong>Full-Stack Architecture:</strong> React frontend with Node.js backend and PostgreSQL database</li>
                <li><strong>AI Integration:</strong> OpenRouter API for intelligent market analysis</li>
                <li><strong>Real-time Data:</strong> CoinGecko and CryptoPanic APIs for live market information</li>
                <li><strong>User Experience:</strong> Personalized dashboard with voting system and dark mode</li>
                <li><strong>Security:</strong> JWT authentication with rate limiting and secure token storage</li>
                <li><strong>Scalability:</strong> Modular architecture with clear separation of concerns</li>
            </ul>
        </div>
        
        <p>This documentation serves as a complete reference for understanding, maintaining, and extending the AI Crypto Advisor platform. Each section provides detailed information about the project's structure, components, and functionality, making it easy to locate and understand any part of the codebase.</p>
    </div>
</body>
</html>


